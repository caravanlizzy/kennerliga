import{b as S,a1 as i,m as x,k as q,J as B,T as Q,u as F,a3 as P,g as k,a8 as $,y,h as C,o as m,A as f,a,w as l,a5 as d,aa as K,a9 as T,B as V,S as I,F as h,a6 as p,C as v,aH as w,c as M,D as N}from"./index.ba6213b8.js";import{u as H}from"./reponsive.58479fee.js";import{Q as g,a as z}from"./QCardSection.fef8ccf3.js";import{Q as b}from"./use-checkbox.54462b67.js";import{Q as D}from"./QTooltip.e05e5b91.js";import{Q as j}from"./QCard.99f6fced.js";import{Q as J}from"./QTable.6ff64856.js";import"./QSelect.9a9294f2.js";import"./scroll.a6f9976b.js";import"./QList.00bffe09.js";var L=S({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:s}){const{proxy:{$q:n}}=k(),e=Q(F,i);if(e===i)return console.error("QPage needs to be a deep child of QLayout"),i;if(Q(P,i)===i)return console.error("QPage needs to be child of QPageContainer"),i;const c=x(()=>{const o=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof t.styleFn=="function"){const r=e.isContainer.value===!0?e.containerHeight.value:n.screen.height;return t.styleFn(o,r)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-o+"px":n.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":n.screen.height-o+"px"}}),u=x(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>q("main",{class:u.value,style:c.value},B(s.default))}});async function O(t){let s="chat/messages/";return t&&(s+=`?last_datetime=${t}`),await $(s)}async function R(t){await $("chat/messages/",{method:"POST",data:{text:t}})}const A={class:"q-pa-md"},E={class:""},U={class:"text-caption text-italic"},Y=y({__name:"KennerChat",setup(t){let s;const n=C([]),e=C("");c(),setInterval(()=>c(),5e3);async function _(){await R(e.value),e.value="",await c()}async function c(){const{data:u}=await O(s);u.length!==0&&(n.value=[...n.value,...u.reverse()],s=n.value[n.value.length-1].datetime)}return(u,o)=>(m(),f("div",A,[a(j,{bordered:"",flat:""},{default:l(()=>[a(g,{class:"text-h6"},{default:l(()=>[d(" Kennerchat ")]),_:1}),a(b,{color:"accent"}),a(g,{class:"q-px-lg"},{default:l(()=>[(m(!0),f(K,null,T(n.value,r=>(m(),f("div",{class:"row justify-between q-py-xs",key:JSON.stringify(r)},[h("div",E,[d(p(r.sender)+" ",1),h("span",U,[a(D,{anchor:"top middle",self:"bottom middle"},{default:l(()=>[d(p(v(w)(r.datetime)),1)]),_:2},1024),d(" ["+p(v(w)(r.datetime).split(",")[1])+"] ",1)])]),h("div",null,p(r.text),1)]))),128))]),_:1}),a(b,{color:"accent"}),a(g,null,{default:l(()=>[a(z,{onKeyup:V(_,["enter"]),modelValue:e.value,"onUpdate:modelValue":o[1]||(o[1]=r=>e.value=r),filled:"",label:"Nachricht",color:"accent"},{append:l(()=>[a(I,{onClick:o[0]||(o[0]=r=>_()),flat:"",icon:"send",color:"accent"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}}),G={class:"q-pa-md"},W=y({__name:"YearStandings",setup(t){const s=[{name:"player",label:"SpielerIn"},{name:"win",label:"wins"}];return(n,e)=>(m(),f("div",G,[a(J,{flat:"",bordered:""},{default:l(()=>[d(p(s))]),_:1})]))}}),ie=y({__name:"IndexPage",setup(t){const{isMobile:s}=H();return(n,e)=>(m(),M(L,{class:N({"row items-start":!v(s)})},{default:l(()=>[a(Y,{class:"col-9"}),a(W,{class:"col-3"})]),_:1},8,["class"]))}});export{ie as default};
