import{aT as g,C as J,d as G,aU as M,aV as R,h as P}from"./index.9a6af9dc.js";const{Axios:Q,AxiosError:H,CanceledError:X,isCancel:Y,CancelToken:Z,VERSION:$,all:ee,Cancel:ne,isAxiosError:te,spread:oe,toFormData:le,AxiosHeaders:ie,HttpStatusCode:re,formToJSON:se,getAdapter:ue,mergeConfig:ae}=g;function k(e){return typeof e=="function"?e():J(e)}typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const U=()=>{};function W(e,r=!1,t="Timeout"){return new Promise((h,v)=>{setTimeout(r?()=>v(t):h,e)})}function O(e,r=!1){function t(n,{flush:i="sync",deep:a=!1,timeout:c,throwOnTimeout:m}={}){let l=null;const f=[new Promise(u=>{l=G(e,d=>{n(d)!==r&&(l==null||l(),u(d))},{flush:i,deep:a,immediate:!0})})];return c!=null&&f.push(W(c,m).then(()=>k(e)).finally(()=>l==null?void 0:l())),Promise.race(f)}function h(n,i){if(!M(n))return t(d=>d===n,i);const{flush:a="sync",deep:c=!1,timeout:m,throwOnTimeout:l}=i!=null?i:{};let s=null;const u=[new Promise(d=>{s=G([e,n],([w,x])=>{r!==(w===x)&&(s==null||s(),d(w))},{flush:a,deep:c,immediate:!0})})];return m!=null&&u.push(W(m,l).then(()=>k(e)).finally(()=>(s==null||s(),k(e)))),Promise.race(u)}function v(n){return t(i=>Boolean(i),n)}function T(n){return h(null,n)}function y(n){return h(void 0,n)}function C(n){return t(Number.isNaN,n)}function E(n,i){return t(a=>{const c=Array.from(a);return c.includes(n)||c.includes(k(n))},i)}function b(n){return A(1,n)}function A(n=1,i){let a=-1;return t(()=>(a+=1,a>=n),i)}return Array.isArray(k(e))?{toMatch:t,toContains:E,changed:b,changedTimes:A,get not(){return O(e,!r)}}:{toMatch:t,toBe:h,toBeTruthy:v,toBeNull:T,toBeNaN:C,toBeUndefined:y,changed:b,changedTimes:A,get not(){return O(e,!r)}}}function z(e){return O(e)}function ce(...e){const r=typeof e[0]=="string"?e[0]:void 0,t=typeof r=="string"?1:0,h={immediate:!!t,shallow:!0};let v={},T=g,y=h;const C=o=>!!(o!=null&&o.request);e.length>0+t&&(C(e[0+t])?T=e[0+t]:v=e[0+t]),e.length>1+t&&C(e[1+t])&&(T=e[1+t]),(e.length===2+t&&!C(e[1+t])||e.length===3+t)&&(y=e[e.length-1]||h);const{initialData:E,shallow:b,onSuccess:A=U,onError:n=U,immediate:i,resetOnExecute:a=!1}=y,c=R(),m=(b?R:P)(E),l=P(!1),s=P(!1),f=P(!1),u=R(),d=g.CancelToken.source;let w=d();const x=o=>{l.value||!s.value||(w.cancel(o),w=d(),f.value=!0,s.value=!1,l.value=!1)},D=o=>{s.value=o,l.value=!o},j=()=>{a&&(m.value=E)},F=()=>new Promise((o,B)=>{z(l).toBe(!0).then(()=>u.value?B(u.value):o(V))}),S={then:(...o)=>F().then(...o),catch:(...o)=>F().catch(...o)};let N=0;const I=(o=r,B={})=>{u.value=void 0;const _=typeof o=="string"?o:r!=null?r:B.url;if(_===void 0)return u.value=new H(H.ERR_INVALID_URL),l.value=!0,S;j(),x(),D(!0),N+=1;const q=N;return f.value=!1,T(_,{...v,...typeof o=="object"?o:B,cancelToken:w.token}).then(p=>{if(f.value)return;c.value=p;const L=p.data;m.value=L,A(L)}).catch(p=>{u.value=p,n(p)}).finally(()=>{var p;(p=y.onFinish)==null||p.call(y),q===N&&D(!1)}),S};i&&r&&I();const V={response:c,data:m,error:u,isFinished:l,isLoading:s,cancel:x,isAborted:f,isCanceled:f,abort:x,execute:I};return{...V,...S}}export{ce as u};
