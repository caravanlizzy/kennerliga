import{b as P,a1 as i,m as Q,k as S,G as q,P as x,u as B,a3 as F,g as k,ar as $,y,h as C,o as m,A as f,a,w as l,ae as d,aa as K,a9 as V,B as I,Q as M,F as h,af as p,C as v,aL as w,c as N,D as T}from"./index.2a68b12d.js";import{u as z}from"./reponsive.35314510.js";import{Q as g}from"./QCardSection.4fd20a71.js";import{Q as b}from"./QSeparator.e4d92220.js";import{Q as D}from"./QTooltip.7144ff02.js";import{Q as H}from"./QInput.5edd90e2.js";import{Q as L}from"./QCard.12cf9a13.js";import{Q as j}from"./QTable.b5c8a520.js";import"./QSelect.98133862.js";import"./scroll.ab59e205.js";import"./QList.9652e3a5.js";import"./use-checkbox.0924c17b.js";var O=P({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:s}){const{proxy:{$q:n}}=k(),e=x(B,i);if(e===i)return console.error("QPage needs to be a deep child of QLayout"),i;if(x(F,i)===i)return console.error("QPage needs to be child of QPageContainer"),i;const c=Q(()=>{const o=(e.header.space===!0?e.header.size:0)+(e.footer.space===!0?e.footer.size:0);if(typeof t.styleFn=="function"){const r=e.isContainer.value===!0?e.containerHeight.value:n.screen.height;return t.styleFn(o,r)}return{minHeight:e.isContainer.value===!0?e.containerHeight.value-o+"px":n.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":n.screen.height-o+"px"}}),u=Q(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>S("main",{class:u.value,style:c.value},q(s.default))}});async function R(t){let s="chat/messages/";return t&&(s+=`?last_datetime=${t}`),await $(s)}async function A(t){await $("chat/messages/",{method:"POST",data:{text:t}})}const E={class:"q-pa-md"},G={class:""},J={class:"text-caption text-italic"},U=y({__name:"KennerChat",setup(t){let s;const n=C([]),e=C("");c(),setInterval(()=>c(),5e3);async function _(){await A(e.value),e.value="",await c()}async function c(){const{data:u}=await R(s);u.length!==0&&(n.value=[...n.value,...u.reverse()],s=n.value[n.value.length-1].datetime)}return(u,o)=>(m(),f("div",E,[a(L,{bordered:"",flat:""},{default:l(()=>[a(g,{class:"text-h6"},{default:l(()=>[d(" Kennerchat ")]),_:1}),a(b,{color:"accent"}),a(g,{class:"q-px-lg"},{default:l(()=>[(m(!0),f(K,null,V(n.value,r=>(m(),f("div",{class:"row justify-between q-py-xs",key:JSON.stringify(r)},[h("div",G,[d(p(r.sender)+" ",1),h("span",J,[a(D,{anchor:"top middle",self:"bottom middle"},{default:l(()=>[d(p(v(w)(r.datetime)),1)]),_:2},1024),d(" ["+p(v(w)(r.datetime).split(",")[1])+"] ",1)])]),h("div",null,p(r.text),1)]))),128))]),_:1}),a(b,{color:"accent"}),a(g,null,{default:l(()=>[a(H,{onKeyup:I(_,["enter"]),modelValue:e.value,"onUpdate:modelValue":o[1]||(o[1]=r=>e.value=r),filled:"",label:"Nachricht",color:"accent"},{append:l(()=>[a(M,{onClick:o[0]||(o[0]=r=>_()),flat:"",icon:"send",color:"accent"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}}),Y={class:"q-pa-md"},W=y({__name:"YearStandings",setup(t){const s=[{name:"player",label:"SpielerIn"},{name:"win",label:"wins"}];return(n,e)=>(m(),f("div",Y,[a(j,{flat:"",bordered:""},{default:l(()=>[d(p(s))]),_:1})]))}}),ue=y({__name:"IndexPage",setup(t){const{isMobile:s}=z();return(n,e)=>(m(),N(O,{class:T({"row items-start":!v(s)})},{default:l(()=>[a(U,{class:"col-9"}),a(W,{class:"col-3"})]),_:1},8,["class"]))}});export{ue as default};
