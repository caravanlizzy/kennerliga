import{b as V,W as S,Y as d,q as $,x as N,L as B,h as K,y as L,$ as T,a7 as b,A as h,k as C,o as i,C as u,a,w as c,Q as g,a4 as f,aN as w,a6 as M,a8 as z,T as D,D as H,V as O,G as x,I as l,aa as m,E as y,aO as Q,_ as q,aP as I,aQ as k,c as j,F as A}from"./index.dbdd8b8a.js";import{u as E}from"./reponsive.255c89c8.js";import{Q as R}from"./QTooltip.ed427b03.js";import{Q as Y}from"./QTable.eb6f6865.js";import"./format.0d4ae905.js";import"./QList.7090564c.js";import"./QSelect.bfc8b332.js";var G=V({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:s}){const{proxy:{$q:n}}=K(),t=S(L,d);if(t===d)return console.error("QPage needs to be a deep child of QLayout"),d;if(S(T,d)===d)return console.error("QPage needs to be child of QPageContainer"),d;const _=$(()=>{const o=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const r=t.isContainer.value===!0?t.containerHeight.value:n.screen.height;return e.styleFn(o,r)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-o+"px":n.screen.height===0?o!==0?`calc(100vh - ${o}px)`:"100vh":n.screen.height-o+"px"}}),p=$(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>N("main",{class:p.value,style:_.value},B(s.default))}});async function J(e){let s="chat/messages/";return e&&(s+=`?last_datetime=${e}`),await b(s)}async function U(e){await b("chat/messages/",{method:"POST",data:{text:e}})}const W={class:"q-pa-md"},X={class:""},Z={class:"text-caption text-italic"},ee=h({__name:"KennerChat",setup(e){let s;const n=C([]),t=C("");_(),setInterval(()=>_(),5e3);async function v(){await U(t.value),t.value="",await _()}async function _(){const{data:p}=await J(s);p.length!==0&&(n.value=[...n.value,...p.reverse()],s=n.value[n.value.length-1].datetime)}return(p,o)=>(i(),u("div",W,[a(x,{bordered:"",flat:""},{default:c(()=>[a(g,{class:"text-h6"},{default:c(()=>[f(" Kennerchat ")]),_:1}),a(w,{color:"accent"}),a(g,{class:"q-px-lg"},{default:c(()=>[(i(!0),u(M,null,z(n.value,r=>(i(),u("div",{class:"row justify-between q-py-xs",key:JSON.stringify(r)},[l("div",X,[f(m(r.sender)+" ",1),l("span",Z,[a(R,{anchor:"top middle",self:"bottom middle"},{default:c(()=>[f(m(y(Q)(r.datetime)),1)]),_:2},1024),f(" ["+m(y(Q)(r.datetime).split(",")[1])+"] ",1)])]),l("div",null,m(r.text),1)]))),128))]),_:1}),a(w,{color:"accent"}),a(g,null,{default:c(()=>[a(D,{onKeyup:H(v,["enter"]),modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=r=>t.value=r),filled:"",label:"Nachricht",color:"accent"},{append:c(()=>[a(O,{onClick:o[0]||(o[0]=r=>v()),flat:"",icon:"send",color:"accent"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]))}}),te={class:"q-pa-md"},ae=h({__name:"YearStandings",setup(e){const s=[{name:"player",label:"SpielerIn"},{name:"win",label:"wins"}];return(n,t)=>(i(),u("div",te,[a(Y,{flat:"",bordered:""},{default:c(()=>[f(m(s))]),_:1})]))}});const F=e=>(I("data-v-5d1939c4"),e=e(),k(),e),se={class:"current-season q-pa-md"},ne=F(()=>l("div",{class:"text-h6"},"Aktuelle Saison",-1)),oe=F(()=>l("div",{class:"text-caption text-grey"},"Noch keine Daten verf\xFCgbar.",-1)),re=h({__name:"CurrentSeason",setup(e){return(s,n)=>(i(),u("div",se,[a(x,{flat:"",bordered:"",class:"q-pa-md"},{default:c(()=>[ne,oe]),_:1})]))}});var ce=q(re,[["__scopeId","data-v-5d1939c4"]]);const P=e=>(I("data-v-2f11274c"),e=e(),k(),e),ie={class:"season-list q-pa-md"},le=P(()=>l("div",{class:"text-h6"},"Vergangene Saisons",-1)),de=P(()=>l("div",{class:"text-caption text-grey"},"Saisonliste wird hier angezeigt.",-1)),ue=h({__name:"SeasonList",setup(e){return(s,n)=>(i(),u("div",ie,[a(x,{flat:"",bordered:"",class:"q-pa-md"},{default:c(()=>[le,de]),_:1})]))}});var _e=q(ue,[["__scopeId","data-v-2f11274c"]]);const xe=h({__name:"IndexPage",setup(e){const{isMobile:s}=E();return(n,t)=>(i(),j(G,{class:A({"row items-start":!y(s)})},{default:c(()=>[a(ce),a(_e),a(ee,{class:"col-9"}),a(ae,{class:"col-3"})]),_:1},8,["class"]))}});export{xe as default};
