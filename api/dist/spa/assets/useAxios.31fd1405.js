import{F as M,w as G,am as U,an as R,r as P}from"./index.50837774.js";import{b as g}from"./axios.88f890b6.js";function b(e){return typeof e=="function"?e():M(e)}typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const H=()=>{};function W(e,r=!1,t="Timeout"){return new Promise((h,v)=>{setTimeout(r?()=>v(t):h,e)})}function F(e,r=!1){function t(n,{flush:i="sync",deep:a=!1,timeout:c,throwOnTimeout:m}={}){let l=null;const f=[new Promise(u=>{l=G(e,d=>{n(d)!==r&&(l==null||l(),u(d))},{flush:i,deep:a,immediate:!0})})];return c!=null&&f.push(W(c,m).then(()=>b(e)).finally(()=>l==null?void 0:l())),Promise.race(f)}function h(n,i){if(!U(n))return t(d=>d===n,i);const{flush:a="sync",deep:c=!1,timeout:m,throwOnTimeout:l}=i!=null?i:{};let s=null;const u=[new Promise(d=>{s=G([e,n],([y,x])=>{r!==(y===x)&&(s==null||s(),d(y))},{flush:a,deep:c,immediate:!0})})];return m!=null&&u.push(W(m,l).then(()=>b(e)).finally(()=>(s==null||s(),b(e)))),Promise.race(u)}function v(n){return t(i=>Boolean(i),n)}function T(n){return h(null,n)}function w(n){return h(void 0,n)}function A(n){return t(Number.isNaN,n)}function k(n,i){return t(a=>{const c=Array.from(a);return c.includes(n)||c.includes(b(n))},i)}function E(n){return C(1,n)}function C(n=1,i){let a=-1;return t(()=>(a+=1,a>=n),i)}return Array.isArray(b(e))?{toMatch:t,toContains:k,changed:E,changedTimes:C,get not(){return F(e,!r)}}:{toMatch:t,toBe:h,toBeTruthy:v,toBeNull:T,toBeNaN:A,toBeUndefined:w,changed:E,changedTimes:C,get not(){return F(e,!r)}}}function z(e){return F(e)}const{Axios:X,AxiosError:j,CanceledError:Y,isCancel:Z,CancelToken:$,VERSION:ee,all:ne,Cancel:te,isAxiosError:oe,spread:le,toFormData:ie,AxiosHeaders:re,HttpStatusCode:se,formToJSON:ue,getAdapter:ae,mergeConfig:ce}=g;function fe(...e){const r=typeof e[0]=="string"?e[0]:void 0,t=typeof r=="string"?1:0,h={immediate:!!t,shallow:!0};let v={},T=g,w=h;const A=o=>!!(o!=null&&o.request);e.length>0+t&&(A(e[0+t])?T=e[0+t]:v=e[0+t]),e.length>1+t&&A(e[1+t])&&(T=e[1+t]),(e.length===2+t&&!A(e[1+t])||e.length===3+t)&&(w=e[e.length-1]||h);const{initialData:k,shallow:E,onSuccess:C=H,onError:n=H,immediate:i,resetOnExecute:a=!1}=w,c=R(),m=(E?R:P)(k),l=P(!1),s=P(!1),f=P(!1),u=R(),d=g.CancelToken.source;let y=d();const x=o=>{l.value||!s.value||(y.cancel(o),y=d(),f.value=!0,s.value=!1,l.value=!1)},O=o=>{s.value=o,l.value=!o},q=()=>{a&&(m.value=k)},D=()=>new Promise((o,B)=>{z(l).toBe(!0).then(()=>u.value?B(u.value):o(_))}),S={then:(...o)=>D().then(...o),catch:(...o)=>D().catch(...o)};let N=0;const I=(o=r,B={})=>{u.value=void 0;const L=typeof o=="string"?o:r!=null?r:B.url;if(L===void 0)return u.value=new j(j.ERR_INVALID_URL),l.value=!0,S;q(),x(),O(!0),N+=1;const J=N;return f.value=!1,T(L,{...v,...typeof o=="object"?o:B,cancelToken:y.token}).then(p=>{if(f.value)return;c.value=p;const V=p.data;m.value=V,C(V)}).catch(p=>{u.value=p,n(p)}).finally(()=>{var p;(p=w.onFinish)==null||p.call(w),J===N&&O(!1)}),S};i&&r&&I();const _={response:c,data:m,error:u,isFinished:l,isLoading:s,cancel:x,isAborted:f,isCanceled:f,abort:x,execute:I};return{..._,...S}}export{fe as u};
