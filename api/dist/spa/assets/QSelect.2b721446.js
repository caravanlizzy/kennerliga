import{n as Dl,r as T,a as r,w as Y,ao as tl,ab as Kl,a7 as ll,ac as ol,e as be,f as ve,h as g,g as fe,o as nl,m as jl,ap as Nl,a3 as Ul,aq as ul,z as ae,i as Wl,a0 as ge,J as ze,ar as Ql,d as he,T as tt,c as Se,ad as Xl,ae as Yl,as as Zl,at as Jl,au as Gl,H as eo,I as to,$ as wt,k as lo,a9 as me,av as oo,aw as il,ag as Mt,l as qe,ax as no,ay as uo,az as $e,aA as Oe,aB as io,v as ao}from"./index.50837774.js";import{y as pt,w as nt,x as ut,z as ro,u as so,d as al,e as rl,v as It,f as co,h as sl,i as cl,j as dl,k as fl,l as fo,m as vo,n as vl,o as ml,r as Pt,g as mo,s as go,q as Ht,t as ho,A as bo,b as So,a as yo,B as wo}from"./position-engine.daebb3a7.js";let lt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,lt=e.scrollLeft>=0,e.remove()}const re=1e3,po=["start","center","end","start-force","center-force","end-force"],gl=Array.prototype.filter,Co=window.getComputedStyle(document.body).overflowAnchor===void 0?Dl:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];gl.call(o,m=>m.dataset&&m.dataset.qVsAnchor!==void 0).forEach(m=>{delete m.dataset.qVsAnchor});const u=o[l];u&&u.dataset&&(u.dataset.qVsAnchor="")}))};function Le(e,l){return e+l}function ft(e,l,o,u,m,i,c,h){const y=e===window?document.scrollingElement||document.documentElement:e,A=m===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-c-h,scrollMaxSize:0,offsetStart:-c,offsetEnd:-h};if(m===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=y.scrollLeft,s.scrollViewSize+=y.clientWidth),s.scrollMaxSize=y.scrollWidth,i===!0&&(s.scrollStart=(lt===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=y.scrollTop,s.scrollViewSize+=y.clientHeight),s.scrollMaxSize=y.scrollHeight),o!==null)for(let w=o.previousElementSibling;w!==null;w=w.previousElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=w[A]);if(u!==null)for(let w=u.nextElementSibling;w!==null;w=w.nextElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=w[A]);if(l!==e){const w=y.getBoundingClientRect(),x=l.getBoundingClientRect();m===!0?(s.offsetStart+=x.left-w.left,s.offsetEnd-=x.width):(s.offsetStart+=x.top-w.top,s.offsetEnd-=x.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function $t(e,l,o,u){l==="end"&&(l=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(u===!0&&(l=(lt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):o===!0?(u===!0&&(l=(lt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function De(e,l,o,u){if(o>=u)return 0;const m=l.length,i=Math.floor(o/re),c=Math.floor((u-1)/re)+1;let h=e.slice(i,c).reduce(Le,0);return o%re!==0&&(h-=l.slice(i*re,o).reduce(Le,0)),u%re!==0&&u!==m&&(h-=l.slice(u,c*re).reduce(Le,0)),h}const hl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},un=Object.keys(hl),qo={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...hl};function xo({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:o,virtualScrollItemSizeComputed:u}){const m=fe(),{props:i,emit:c,proxy:h}=m,{$q:y}=h;let A,s,w,x=[],k;const F=T(0),M=T(0),S=T({}),P=T(null),N=T(null),q=T(null),O=T({from:0,to:0}),$=r(()=>i.tableColspan!==void 0?i.tableColspan:100);u===void 0&&(u=r(()=>i.virtualScrollItemSize));const E=r(()=>u.value+";"+i.virtualScrollHorizontal),z=r(()=>E.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);Y(z,()=>{K()}),Y(E,le);function le(){ee(s,!0)}function oe(n){ee(n===void 0?s:n)}function J(n,f){const _=l();if(_==null||_.nodeType===8)return;const L=ft(_,o(),P.value,N.value,i.virtualScrollHorizontal,y.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);w!==L.scrollViewSize&&K(L.scrollViewSize),U(_,L,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,po.indexOf(f)>-1?f:s>-1&&n>s?"end":"start")}function G(){const n=l();if(n==null||n.nodeType===8)return;const f=ft(n,o(),P.value,N.value,i.virtualScrollHorizontal,y.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),_=e.value-1,L=f.scrollMaxSize-f.offsetStart-f.offsetEnd-M.value;if(A===f.scrollStart)return;if(f.scrollMaxSize<=0){U(n,f,0,0);return}w!==f.scrollViewSize&&K(f.scrollViewSize),ne(O.value.from);const p=Math.floor(f.scrollMaxSize-Math.max(f.scrollViewSize,f.offsetEnd)-Math.min(k[_],f.scrollViewSize/2));if(p>0&&Math.ceil(f.scrollStart)>=p){U(n,f,_,f.scrollMaxSize-f.offsetEnd-x.reduce(Le,0));return}let C=0,V=f.scrollStart-f.offsetStart,D=V;if(V<=L&&V+f.scrollViewSize>=F.value)V-=F.value,C=O.value.from,D=V;else for(let a=0;V>=x[a]&&C<_;a++)V-=x[a],C+=re;for(;V>0&&C<_;)V-=k[C],V>-f.scrollViewSize?(C++,D=V):D=k[C]+V;U(n,f,C,D)}function U(n,f,_,L,p){const C=typeof p=="string"&&p.indexOf("-force")>-1,V=C===!0?p.replace("-force",""):p,D=V!==void 0?V:"start";let a=Math.max(0,_-S.value[D]),W=a+S.value.total;W>e.value&&(W=e.value,a=Math.max(0,W-S.value.total)),A=f.scrollStart;const se=a!==O.value.from||W!==O.value.to;if(se===!1&&V===void 0){R(_);return}const{activeElement:_e}=document,ce=q.value;se===!0&&ce!==null&&ce!==_e&&ce.contains(_e)===!0&&(ce.addEventListener("focusout",ie),setTimeout(()=>{ce!==null&&ce.removeEventListener("focusout",ie)})),Co(ce,_-a);const Ne=V!==void 0?k.slice(a,_).reduce(Le,0):0;if(se===!0){const ye=W>=O.value.from&&a<=O.value.to?O.value.to:W;O.value={from:a,to:ye},F.value=De(x,k,0,a),M.value=De(x,k,W,e.value),requestAnimationFrame(()=>{O.value.to!==W&&A===f.scrollStart&&(O.value={from:O.value.from,to:W},M.value=De(x,k,W,e.value))})}requestAnimationFrame(()=>{if(A!==f.scrollStart)return;se===!0&&ne(a);const ye=k.slice(a,_).reduce(Le,0),we=ye+f.offsetStart+F.value,Ue=we+k[_];let Ie=we+L;if(V!==void 0){const it=ye-Ne,Pe=f.scrollStart+it;Ie=C!==!0&&Pe<we&&Ue<Pe+f.scrollViewSize?Pe:V==="end"?Ue-f.scrollViewSize:we-(V==="start"?0:Math.round((f.scrollViewSize-k[_])/2))}A=Ie,$t(n,Ie,i.virtualScrollHorizontal,y.lang.rtl),R(_)})}function ne(n){const f=q.value;if(f){const _=gl.call(f.children,a=>a.classList&&a.classList.contains("q-virtual-scroll--skip")===!1),L=_.length,p=i.virtualScrollHorizontal===!0?a=>a.getBoundingClientRect().width:a=>a.offsetHeight;let C=n,V,D;for(let a=0;a<L;){for(V=p(_[a]),a++;a<L&&_[a].classList.contains("q-virtual-scroll--with-prev")===!0;)V+=p(_[a]),a++;D=V-k[C],D!==0&&(k[C]+=D,x[Math.floor(C/re)]+=D),C++}}}function ie(){q.value!==null&&q.value!==void 0&&q.value.focus()}function ee(n,f){const _=1*u.value;(f===!0||Array.isArray(k)===!1)&&(k=[]);const L=k.length;k.length=e.value;for(let C=e.value-1;C>=L;C--)k[C]=_;const p=Math.floor((e.value-1)/re);x=[];for(let C=0;C<=p;C++){let V=0;const D=Math.min((C+1)*re,e.value);for(let a=C*re;a<D;a++)V+=k[a];x.push(V)}s=-1,A=void 0,F.value=De(x,k,0,O.value.from),M.value=De(x,k,O.value.to,e.value),n>=0?(ne(O.value.from),ve(()=>{J(n)})):Z()}function K(n){if(n===void 0&&typeof window!="undefined"){const V=l();V!=null&&V.nodeType!==8&&(n=ft(V,o(),P.value,N.value,i.virtualScrollHorizontal,y.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}w=n;const f=parseFloat(i.virtualScrollSliceRatioBefore)||0,_=parseFloat(i.virtualScrollSliceRatioAfter)||0,L=1+f+_,p=n===void 0||n<=0?1:Math.ceil(n/u.value),C=Math.max(1,p,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/L));S.value={total:Math.ceil(C*L),start:Math.ceil(C*f),center:Math.ceil(C*(.5+f)),end:Math.ceil(C*(1+f)),view:p}}function b(n,f){const _=i.virtualScrollHorizontal===!0?"width":"height",L={["--q-virtual-scroll-item-"+_]:u.value+"px"};return[n==="tbody"?g(n,{class:"q-virtual-scroll__padding",key:"before",ref:P},[g("tr",[g("td",{style:{[_]:`${F.value}px`,...L},colspan:$.value})])]):g(n,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[_]:`${F.value}px`,...L}}),g(n,{class:"q-virtual-scroll__content",key:"content",ref:q,tabindex:-1},f.flat()),n==="tbody"?g(n,{class:"q-virtual-scroll__padding",key:"after",ref:N},[g("tr",[g("td",{style:{[_]:`${M.value}px`,...L},colspan:$.value})])]):g(n,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[_]:`${M.value}px`,...L}})]}function R(n){s!==n&&(i.onVirtualScroll!==void 0&&c("virtualScroll",{index:n,from:O.value.from,to:O.value.to-1,direction:n<s?"decrease":"increase",ref:h}),s=n)}K();const Z=tl(G,y.platform.is.ios===!0?120:35);Kl(()=>{K()});let te=!1;return ll(()=>{te=!0}),ol(()=>{if(te!==!0)return;const n=l();A!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?$t(n,A,i.virtualScrollHorizontal,y.lang.rtl):J(s)}),be(()=>{Z.cancel()}),Object.assign(h,{scrollTo:J,reset:le,refresh:oe}),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:S,setVirtualScrollSize:K,onVirtualScrollEvt:Z,localResetVirtualScroll:ee,padVirtualScroll:b,scrollTo:J,reset:le,refresh:oe}}function ko({validate:e,resetValidation:l,requiresQForm:o}){const u=jl(Nl,!1);if(u!==!1){const{props:m,proxy:i}=fe();Object.assign(i,{validate:e,resetValidation:l}),Y(()=>m.disable,c=>{c===!0?(typeof l=="function"&&l(),u.unbindComponent(i)):u.bindComponent(i)}),nl(()=>{m.disable!==!0&&u.bindComponent(i)}),be(()=>{m.disable!==!0&&u.unbindComponent(i)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const Dt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Kt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,jt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Ye=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ze=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,vt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Dt.test(e),hexaColor:e=>Kt.test(e),hexOrHexaColor:e=>jt.test(e),rgbColor:e=>Ye.test(e),rgbaColor:e=>Ze.test(e),rgbOrRgbaColor:e=>Ye.test(e)||Ze.test(e),hexOrRgbColor:e=>Dt.test(e)||Ye.test(e),hexaOrRgbaColor:e=>Kt.test(e)||Ze.test(e),anyColor:e=>jt.test(e)||Ye.test(e)||Ze.test(e)},Vo=[!0,!1,"ondemand"],_o={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Vo.includes(e)}};function Bo(e,l){const{props:o,proxy:u}=fe(),m=T(!1),i=T(null),c=T(null);ko({validate:F,resetValidation:k});let h=0,y;const A=r(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),s=r(()=>o.disable!==!0&&A.value===!0&&l.value===!1),w=r(()=>o.error===!0||m.value===!0),x=r(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:i.value);Y(()=>o.modelValue,()=>{c.value=!0,s.value===!0&&o.lazyRules===!1&&M()}),Y(()=>o.reactiveRules,S=>{S===!0?y===void 0&&(y=Y(()=>o.rules,()=>{s.value===!0&&c.value===!0&&o.lazyRules!=="ondemand"&&M()},{immediate:!0})):y!==void 0&&(y(),y=void 0)},{immediate:!0}),Y(()=>o.lazyRules,S=>{S===!1&&s.value===!0&&c.value===!0&&M()}),Y(e,S=>{S===!0?c.value===null&&(c.value=o.lazyRules===!0):s.value===!0&&(o.lazyRules===!1||o.lazyRules===!0&&c.value===!0)&&M()});function k(){h++,l.value=!1,c.value=null,m.value=!1,i.value=null,M.cancel()}function F(S=o.modelValue){if(o.disable===!0||A.value===!1)return!0;const P=++h,N=l.value!==!0?()=>{c.value=!0}:()=>{},q=($,E)=>{$===!0&&N(),m.value=$,i.value=E||null,l.value=!1},O=[];for(let $=0;$<o.rules.length;$++){const E=o.rules[$];let z;if(typeof E=="function"?z=E(S,vt):typeof E=="string"&&vt[E]!==void 0&&(z=vt[E](S)),z===!1||typeof z=="string")return q(!0,z),!1;z!==!0&&z!==void 0&&O.push(z)}return O.length===0?(q(!1),!0):(l.value=!0,Promise.all(O).then($=>{if($===void 0||Array.isArray($)===!1||$.length===0)return P===h&&q(!1),!0;const E=$.find(z=>z===!1||typeof z=="string");return P===h&&q(E!==void 0,E),E===void 0},$=>(P===h&&(console.error($),q(!0)),!1)))}const M=tl(F,0);return be(()=>{y!==void 0&&y(),M.cancel()}),Object.assign(u,{resetValidation:k,validate:F}),Ul(u,"hasError",()=>w.value),{isDirtyModel:c,hasRules:A,hasError:w,errorMessage:x,validate:F,resetValidation:k}}const Nt=/^on[A-Z]/;function Ao(e,l){const o={listeners:T({}),attributes:T({})};function u(){const m={},i={};for(const c in e)c!=="class"&&c!=="style"&&Nt.test(c)===!1&&(m[c]=e[c]);for(const c in l.props)Nt.test(c)===!0&&(i[c]=l.props[c]);o.attributes.value=m,o.listeners.value=i}return ul(u),u(),o}let mt,Je=0;const X=new Array(256);for(let e=0;e<256;e++)X[e]=(e+256).toString(16).substring(1);const Eo=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return l=>{const o=new Uint8Array(l);return e.getRandomValues(o),o}}return l=>{const o=[];for(let u=l;u>0;u--)o.push(Math.floor(Math.random()*256));return o}})(),Ut=4096;function bl(){(mt===void 0||Je+16>Ut)&&(Je=0,mt=Eo(Ut));const e=Array.prototype.slice.call(mt,Je,Je+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,X[e[0]]+X[e[1]]+X[e[2]]+X[e[3]]+"-"+X[e[4]]+X[e[5]]+"-"+X[e[6]]+X[e[7]]+"-"+X[e[8]]+X[e[9]]+"-"+X[e[10]]+X[e[11]]+X[e[12]]+X[e[13]]+X[e[14]]+X[e[15]]}function Sl(e,l){return e===void 0?l===!0?`f_${bl()}`:void 0:e}function St(e){return e!=null&&(""+e).length!==0}const Ct={...nt,..._o,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},yl=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function wl({requiredForAttr:e=!0,tagProp:l}={}){const{props:o,attrs:u,proxy:m,vnode:i}=fe(),c=ut(o,m.$q);return{requiredForAttr:e,tag:l===!0?r(()=>o.tag):{value:"label"},isDark:c,editable:r(()=>o.disable!==!0&&o.readonly!==!0),innerLoading:T(!1),focused:T(!1),hasPopupOpen:!1,splitAttrs:Ao(u,i),targetUid:T(Sl(o.for,e)),rootRef:T(null),targetRef:T(null),controlRef:T(null)}}function pl(e){const{props:l,emit:o,slots:u,attrs:m,proxy:i}=fe(),{$q:c}=i;let h=null;e.hasValue===void 0&&(e.hasValue=r(()=>St(l.modelValue))),e.emitValue===void 0&&(e.emitValue=b=>{o("update:modelValue",b)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:oe,onFocusout:J}),Object.assign(e,{clearValue:G,onControlFocusin:oe,onControlFocusout:J,focus:z}),e.computedCounter===void 0&&(e.computedCounter=r(()=>{if(l.counter!==!1){const b=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,R=l.maxlength!==void 0?l.maxlength:l.maxValues;return b+(R!==void 0?" / "+R:"")}}));const{isDirtyModel:y,hasRules:A,hasError:s,errorMessage:w,resetValidation:x}=Bo(e.focused,e.innerLoading),k=e.floatingLabel!==void 0?r(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):r(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),F=r(()=>l.bottomSlots===!0||l.hint!==void 0||A.value===!0||l.counter===!0||l.error!==null),M=r(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),S=r(()=>`q-field row no-wrap items-start q-field--${M.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(k.value===!0?" q-field--float":"")+(N.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(s.value===!0?" q-field--error":"")+(s.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&F.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),P=r(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(s.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length!==0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),N=r(()=>l.labelSlot===!0||l.label!==void 0),q=r(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&s.value!==!0?` text-${l.labelColor}`:"")),O=r(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:k.value,modelValue:l.modelValue,emitValue:e.emitValue})),$=r(()=>{const b={for:e.targetUid.value};return l.disable===!0&&(b["aria-disabled"]="true"),b});Y(()=>l.for,b=>{e.targetUid.value=Sl(b,e.requiredForAttr)});function E(){const b=document.activeElement;let R=e.targetRef!==void 0&&e.targetRef.value;R&&(b===null||b.id!==e.targetUid.value)&&(R.hasAttribute("tabindex")===!0||(R=R.querySelector("[tabindex]")),R&&R!==b&&R.focus({preventScroll:!0}))}function z(){pt(E)}function le(){ro(E);const b=document.activeElement;b!==null&&e.rootRef.value.contains(b)&&b.blur()}function oe(b){h!==null&&(clearTimeout(h),h=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",b))}function J(b,R){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",b)),R!==void 0&&R())})}function G(b){ae(b),c.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),o("clear",l.modelValue),ve(()=>{x(),c.platform.is.mobile!==!0&&(y.value=!1)})}function U(){const b=[];return u.prepend!==void 0&&b.push(g("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ge},u.prepend())),b.push(g("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},ne())),s.value===!0&&l.noErrorIcon===!1&&b.push(ee("error",[g(ze,{name:c.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?b.push(ee("inner-loading-append",u.loading!==void 0?u.loading():[g(Ql,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&b.push(ee("inner-clearable-append",[g(ze,{class:"q-field__focusable-action",tag:"button",name:l.clearIcon||c.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:G})])),u.append!==void 0&&b.push(g("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ge},u.append())),e.getInnerAppend!==void 0&&b.push(ee("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&b.push(e.getControlChild()),b}function ne(){const b=[];return l.prefix!==void 0&&l.prefix!==null&&b.push(g("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&b.push(e.getShadowControl()),e.getControl!==void 0?b.push(e.getControl()):u.rawControl!==void 0?b.push(u.rawControl()):u.control!==void 0&&b.push(g("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},u.control(O.value))),N.value===!0&&b.push(g("div",{class:q.value},he(u.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&b.push(g("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),b.concat(he(u.default))}function ie(){let b,R;s.value===!0?w.value!==null?(b=[g("div",{role:"alert"},w.value)],R=`q--slot-error-${w.value}`):(b=he(u.error),R="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(b=[g("div",l.hint)],R=`q--slot-hint-${l.hint}`):(b=he(u.hint),R="q--slot-hint"));const Z=l.counter===!0||u.counter!==void 0;if(l.hideBottomSpace===!0&&Z===!1&&b===void 0)return;const te=g("div",{key:R,class:"q-field__messages col"},b);return g("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:ge},[l.hideBottomSpace===!0?te:g(tt,{name:"q-transition--field-message"},()=>te),Z===!0?g("div",{class:"q-field__counter"},u.counter!==void 0?u.counter():e.computedCounter.value):null])}function ee(b,R){return R===null?null:g("div",{key:b,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},R)}let K=!1;return ll(()=>{K=!0}),ol(()=>{K===!0&&l.autofocus===!0&&i.focus()}),nl(()=>{Wl.value===!0&&e.requiredForAttr===!0&&l.for===void 0&&(e.targetUid.value=`f_${bl()}`),l.autofocus===!0&&i.focus()}),be(()=>{h!==null&&clearTimeout(h)}),Object.assign(i,{focus:z,blur:le}),function(){const R=e.getControl===void 0&&u.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...$.value}:$.value;return g(e.tag.value,{ref:e.rootRef,class:[S.value,m.class],style:m.style,...R},[u.before!==void 0?g("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ge},u.before()):null,g("div",{class:"q-field__inner relative-position col self-stretch"},[g("div",{ref:e.controlRef,class:P.value,tabindex:-1,...e.controlEvents},U()),F.value===!0?ie():null]),u.after!==void 0?g("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ge},u.after()):null])}}var Ro=Se({name:"QField",inheritAttrs:!1,props:{...Ct,tag:{type:String,default:"label"}},emits:yl,setup(){return pl(wl({requiredForAttr:!1,tagProp:!0}))}});const Fo={xs:8,sm:10,md:14,lg:20,xl:24};var To=Se({name:"QChip",props:{...nt,...Xl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:o}){const{proxy:{$q:u}}=fe(),m=ut(e,u),i=Yl(e,Fo),c=r(()=>e.selected===!0||e.icon!==void 0),h=r(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),y=r(()=>e.iconRemove||u.iconSet.chip.remove),A=r(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=r(()=>{const S=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(A.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(m.value===!0?" q-chip--dark q-dark":"")}),w=r(()=>{const S=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...S,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||u.lang.label.remove};return{chip:S,remove:P}});function x(S){S.keyCode===13&&k(S)}function k(S){e.disable||(o("update:selected",!e.selected),o("click",S))}function F(S){(S.keyCode===void 0||S.keyCode===13)&&(ae(S),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function M(){const S=[];A.value===!0&&S.push(g("div",{class:"q-focus-helper"})),c.value===!0&&S.push(g(ze,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const P=e.label!==void 0?[g("div",{class:"ellipsis"},[e.label])]:void 0;return S.push(g("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Jl(l.default,P))),e.iconRight&&S.push(g(ze,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&S.push(g(ze,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:y.value,...w.value.remove,onClick:F,onKeyup:F})),S}return()=>{if(e.modelValue===!1)return;const S={class:s.value,style:i.value};return A.value===!0&&Object.assign(S,w.value.chip,{onClick:k,onKeyup:x}),Zl("div",S,M(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Gl,e.ripple]])}}}),Oo=Se({name:"QItem",props:{...nt,...eo,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:o}){const{proxy:{$q:u}}=fe(),m=ut(e,u),{hasLink:i,linkAttrs:c,linkClass:h,linkTag:y,navigateOnClick:A}=to(),s=T(null),w=T(null),x=r(()=>e.clickable===!0||i.value===!0||e.tag==="label"),k=r(()=>e.disable!==!0&&x.value===!0),F=r(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(m.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?h.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(k.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),M=r(()=>{if(e.insetLevel===void 0)return null;const q=u.lang.rtl===!0?"Right":"Left";return{["padding"+q]:16+e.insetLevel*56+"px"}});function S(q){k.value===!0&&(w.value!==null&&(q.qKeyEvent!==!0&&document.activeElement===s.value?w.value.focus():document.activeElement===w.value&&s.value.focus()),A(q))}function P(q){if(k.value===!0&&wt(q,[13,32])===!0){ae(q),q.qKeyEvent=!0;const O=new MouseEvent("click",q);O.qKeyEvent=!0,s.value.dispatchEvent(O)}o("keyup",q)}function N(){const q=lo(l.default,[]);return k.value===!0&&q.unshift(g("div",{class:"q-focus-helper",tabindex:-1,ref:w})),q}return()=>{const q={ref:s,class:F.value,style:M.value,role:"listitem",onClick:S,onKeyup:P};return k.value===!0?(q.tabindex=e.tabindex||"0",Object.assign(q,c.value)):x.value===!0&&(q["aria-disabled"]="true"),g(y.value,q,N())}}}),zo=Se({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const o=r(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>g("div",{class:o.value},he(l.default))}}),Lo=Se({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const o=r(()=>parseInt(e.lines,10)),u=r(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),m=r(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>g("div",{style:m.value,class:u.value},he(l.default))}});const ke=[];let Me;function Mo(e){Me=e.keyCode===27}function Io(){Me===!0&&(Me=!1)}function Po(e){Me===!0&&(Me=!1,wt(e,27)===!0&&ke[ke.length-1](e))}function Cl(e){window[e]("keydown",Mo),window[e]("blur",Io),window[e]("keyup",Po),Me=!1}function ql(e){me.is.desktop===!0&&(ke.push(e),ke.length===1&&Cl("addEventListener"))}function ot(e){const l=ke.indexOf(e);l>-1&&(ke.splice(l,1),ke.length===0&&Cl("removeEventListener"))}const Ve=[];function xl(e){Ve[Ve.length-1](e)}function kl(e){me.is.desktop===!0&&(Ve.push(e),Ve.length===1&&document.body.addEventListener("focusin",xl))}function yt(e){const l=Ve.indexOf(e);l>-1&&(Ve.splice(l,1),Ve.length===0&&document.body.removeEventListener("focusin",xl))}var Ho=Se({name:"QMenu",inheritAttrs:!1,props:{...so,...al,...nt,...rl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:It},self:{type:String,validator:It},offset:{type:Array,validator:co},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...sl,"click","escapeKey"],setup(e,{slots:l,emit:o,attrs:u}){let m=null,i,c,h;const y=fe(),{proxy:A}=y,{$q:s}=A,w=T(null),x=T(!1),k=r(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),F=ut(e,s),{registerTick:M,removeTick:S}=cl(),{registerTimeout:P}=dl(),{transitionProps:N,transitionStyle:q}=fl(e),{localScrollTarget:O,changeScrollEvent:$,unconfigureScrollTarget:E}=fo(e,_),{anchorEl:z,canShow:le}=vo({showing:x}),{hide:oe}=vl({showing:x,canShow:le,handleShow:te,handleHide:n,hideOnRouteChange:k,processOnMount:!0}),{showPortal:J,hidePortal:G,renderPortal:U}=ml(y,w,D,"menu"),ne={anchorEl:z,innerRef:w,onClickOutside(a){if(e.persistent!==!0&&x.value===!0)return oe(a),(a.type==="touchstart"||a.target.classList.contains("q-dialog__backdrop"))&&ae(a),!0}},ie=r(()=>Ht(e.anchor||(e.cover===!0?"center middle":"bottom start"),s.lang.rtl)),ee=r(()=>e.cover===!0?ie.value:Ht(e.self||"top start",s.lang.rtl)),K=r(()=>(e.square===!0?" q-menu--square":"")+(F.value===!0?" q-menu--dark q-dark":"")),b=r(()=>e.autoClose===!0?{onClick:L}:{}),R=r(()=>x.value===!0&&e.persistent!==!0);Y(R,a=>{a===!0?(ql(C),ho(ne)):(ot(C),Pt(ne))});function Z(){pt(()=>{let a=w.value;a&&a.contains(document.activeElement)!==!0&&(a=a.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.querySelector("[autofocus], [data-autofocus]")||a,a.focus({preventScroll:!0}))})}function te(a){if(m=e.noRefocus===!1?document.activeElement:null,kl(p),J(),_(),i=void 0,a!==void 0&&(e.touchPosition||e.contextMenu)){const W=oo(a);if(W.left!==void 0){const{top:se,left:_e}=z.value.getBoundingClientRect();i={left:W.left-_e,top:W.top-se}}}c===void 0&&(c=Y(()=>s.screen.width+"|"+s.screen.height+"|"+e.self+"|"+e.anchor+"|"+s.lang.rtl,V)),e.noFocus!==!0&&document.activeElement.blur(),M(()=>{V(),e.noFocus!==!0&&Z()}),P(()=>{s.platform.is.ios===!0&&(h=e.autoClose,w.value.click()),V(),J(!0),o("show",a)},e.transitionDuration)}function n(a){S(),G(),f(!0),m!==null&&(a===void 0||a.qClickOutside!==!0)&&(((a&&a.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),P(()=>{G(!0),o("hide",a)},e.transitionDuration)}function f(a){i=void 0,c!==void 0&&(c(),c=void 0),(a===!0||x.value===!0)&&(yt(p),E(),Pt(ne),ot(C)),a!==!0&&(m=null)}function _(){(z.value!==null||e.scrollTarget!==void 0)&&(O.value=mo(z.value,e.scrollTarget),$(O.value,V))}function L(a){h!==!0?(bo(A,a),o("click",a)):h=!1}function p(a){R.value===!0&&e.noFocus!==!0&&il(w.value,a.target)!==!0&&Z()}function C(a){o("escapeKey"),oe(a)}function V(){go({targetEl:w.value,offset:e.offset,anchorEl:z.value,anchorOrigin:ie.value,selfOrigin:ee.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function D(){return g(tt,N.value,()=>x.value===!0?g("div",{role:"menu",...u,ref:w,tabindex:-1,class:["q-menu q-position-engine scroll"+K.value,u.class],style:[u.style,q.value],...b.value},he(l.default)):null)}return be(f),Object.assign(A,{focus:Z,updatePosition:V}),U}});function $o(e,l,o){let u;function m(){u!==void 0&&(Mt.remove(u),u=void 0)}return be(()=>{e.value===!0&&m()}),{removeFromHistory:m,addToHistory(){u={condition:()=>o.value===!0,handler:l},Mt.add(u)}}}let Ke=0,gt,ht,je,bt=!1,Wt,Qt,Xt,xe=null;function Do(e){Ko(e)&&ae(e)}function Ko(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const l=no(e),o=e.shiftKey&&!e.deltaX,u=!o&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),m=o||u?e.deltaY:e.deltaX;for(let i=0;i<l.length;i++){const c=l[i];if(wo(c,u))return u?m<0&&c.scrollTop===0?!0:m>0&&c.scrollTop+c.clientHeight===c.scrollHeight:m<0&&c.scrollLeft===0?!0:m>0&&c.scrollLeft+c.clientWidth===c.scrollWidth}return!0}function Yt(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function Ge(e){bt!==!0&&(bt=!0,requestAnimationFrame(()=>{bt=!1;const{height:l}=e.target,{clientHeight:o,scrollTop:u}=document.scrollingElement;(je===void 0||l!==window.innerHeight)&&(je=o-l,document.scrollingElement.scrollTop=u),u>je&&(document.scrollingElement.scrollTop-=Math.ceil((u-je)/8))}))}function Zt(e){const l=document.body,o=window.visualViewport!==void 0;if(e==="add"){const{overflowY:u,overflowX:m}=window.getComputedStyle(l);gt=So(window),ht=yo(window),Wt=l.style.left,Qt=l.style.top,Xt=window.location.href,l.style.left=`-${gt}px`,l.style.top=`-${ht}px`,m!=="hidden"&&(m==="scroll"||l.scrollWidth>window.innerWidth)&&l.classList.add("q-body--force-scrollbar-x"),u!=="hidden"&&(u==="scroll"||l.scrollHeight>window.innerHeight)&&l.classList.add("q-body--force-scrollbar-y"),l.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,me.is.ios===!0&&(o===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",Ge,qe.passiveCapture),window.visualViewport.addEventListener("scroll",Ge,qe.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Yt,qe.passiveCapture))}me.is.desktop===!0&&me.is.mac===!0&&window[`${e}EventListener`]("wheel",Do,qe.notPassive),e==="remove"&&(me.is.ios===!0&&(o===!0?(window.visualViewport.removeEventListener("resize",Ge,qe.passiveCapture),window.visualViewport.removeEventListener("scroll",Ge,qe.passiveCapture)):window.removeEventListener("scroll",Yt,qe.passiveCapture)),l.classList.remove("q-body--prevent-scroll"),l.classList.remove("q-body--force-scrollbar-x"),l.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,l.style.left=Wt,l.style.top=Qt,window.location.href===Xt&&window.scrollTo(gt,ht),je=void 0)}function jo(e){let l="add";if(e===!0){if(Ke++,xe!==null){clearTimeout(xe),xe=null;return}if(Ke>1)return}else{if(Ke===0||(Ke--,Ke>0))return;if(l="remove",me.is.ios===!0&&me.is.nativeMobile===!0){xe!==null&&clearTimeout(xe),xe=setTimeout(()=>{Zt(l),xe=null},100);return}}Zt(l)}function No(){let e;return{preventBodyScroll(l){l!==e&&(e!==void 0||l===!0)&&(e=l,jo(l))}}}let et=0;const Uo={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Jt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Wo=Se({name:"QDialog",inheritAttrs:!1,props:{...al,...rl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...sl,"shake","click","escapeKey"],setup(e,{slots:l,emit:o,attrs:u}){const m=fe(),i=T(null),c=T(!1),h=T(!1);let y=null,A=null,s,w;const x=r(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:k}=No(),{registerTimeout:F}=dl(),{registerTick:M,removeTick:S}=cl(),{transitionProps:P,transitionStyle:N}=fl(e,()=>Jt[e.position][0],()=>Jt[e.position][1]),{showPortal:q,hidePortal:O,portalIsAccessible:$,renderPortal:E}=ml(m,i,L,"dialog"),{hide:z}=vl({showing:c,hideOnRouteChange:x,handleShow:ie,handleHide:ee,processOnMount:!0}),{addToHistory:le,removeFromHistory:oe}=$o(c,z,x),J=r(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Uo[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),G=r(()=>c.value===!0&&e.seamless!==!0),U=r(()=>e.autoClose===!0?{onClick:n}:{}),ne=r(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${G.value===!0?"modal":"seamless"}`,u.class]);Y(()=>e.maximized,p=>{c.value===!0&&te(p)}),Y(G,p=>{k(p),p===!0?(kl(_),ql(R)):(yt(_),ot(R))});function ie(p){le(),A=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,te(e.maximized),q(),h.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),M(K)):S(),F(()=>{if(m.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:C,bottom:V}=document.activeElement.getBoundingClientRect(),{innerHeight:D}=window,a=window.visualViewport!==void 0?window.visualViewport.height:D;C>0&&V>a/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-a,V>=D?1/0:Math.ceil(document.scrollingElement.scrollTop+V-a/2))),document.activeElement.scrollIntoView()}w=!0,i.value.click(),w=!1}q(!0),h.value=!1,o("show",p)},e.transitionDuration)}function ee(p){S(),oe(),Z(!0),h.value=!0,O(),A!==null&&(((p&&p.type.indexOf("key")===0?A.closest('[tabindex]:not([tabindex^="-"])'):void 0)||A).focus(),A=null),F(()=>{O(!0),h.value=!1,o("hide",p)},e.transitionDuration)}function K(p){pt(()=>{let C=i.value;C===null||C.contains(document.activeElement)===!0||(C=(p!==""?C.querySelector(p):null)||C.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||C.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||C.querySelector("[autofocus], [data-autofocus]")||C,C.focus({preventScroll:!0}))})}function b(p){p&&typeof p.focus=="function"?p.focus({preventScroll:!0}):K(),o("shake");const C=i.value;C!==null&&(C.classList.remove("q-animate--scale"),C.classList.add("q-animate--scale"),y!==null&&clearTimeout(y),y=setTimeout(()=>{y=null,i.value!==null&&(C.classList.remove("q-animate--scale"),K())},170))}function R(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&b():(o("escapeKey"),z()))}function Z(p){y!==null&&(clearTimeout(y),y=null),(p===!0||c.value===!0)&&(te(!1),e.seamless!==!0&&(k(!1),yt(_),ot(R))),p!==!0&&(A=null)}function te(p){p===!0?s!==!0&&(et<1&&document.body.classList.add("q-body--dialog"),et++,s=!0):s===!0&&(et<2&&document.body.classList.remove("q-body--dialog"),et--,s=!1)}function n(p){w!==!0&&(z(p),o("click",p))}function f(p){e.persistent!==!0&&e.noBackdropDismiss!==!0?z(p):e.noShake!==!0&&b()}function _(p){e.allowFocusOutside!==!0&&$.value===!0&&il(i.value,p.target)!==!0&&K('[tabindex]:not([tabindex="-1"])')}Object.assign(m.proxy,{focus:K,shake:b,__updateRefocusTarget(p){A=p||null}}),be(Z);function L(){return g("div",{role:"dialog","aria-modal":G.value===!0?"true":"false",...u,class:ne.value},[g(tt,{name:"q-transition--fade",appear:!0},()=>G.value===!0?g("div",{class:"q-dialog__backdrop fixed-full",style:N.value,"aria-hidden":"true",tabindex:-1,onClick:f}):null),g(tt,P.value,()=>c.value===!0?g("div",{ref:i,class:J.value,style:N.value,tabindex:-1,...U.value},he(l.default)):null)])}return E}});const Qo={name:String};function an(e={}){return(l,o,u)=>{l[o](g("input",{class:"hidden"+(u||""),...e.value}))}}function Xo(e){return r(()=>e.name||e.for)}const Yo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Zo=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Jo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Go=/[a-z0-9_ -]$/i;function en(e){return function(o){if(o.type==="compositionend"||o.type==="change"){if(o.target.qComposing!==!0)return;o.target.qComposing=!1,e(o)}else o.type==="compositionupdate"&&o.target.qComposing!==!0&&typeof o.data=="string"&&(me.is.firefox===!0?Go.test(o.data)===!1:Yo.test(o.data)===!0||Zo.test(o.data)===!0||Jo.test(o.data)===!0)===!0&&(o.target.qComposing=!0)}}function Gt(e,l,o){if(o<=l)return l;const u=o-l+1;let m=l+(e-l)%u;return m<l&&(m=u+m),m===0?0:m}const el=e=>["add","add-unique","toggle"].includes(e),tn=".*+?^${}()|[]\\",ln=Object.keys(Ct);var rn=Se({name:"QSelect",inheritAttrs:!1,props:{...qo,...Qo,...Ct,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:el},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...yl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:l,emit:o}){const{proxy:u}=fe(),{$q:m}=u,i=T(!1),c=T(!1),h=T(-1),y=T(""),A=T(!1),s=T(!1);let w=null,x=null,k,F,M,S=null,P,N,q,O;const $=T(null),E=T(null),z=T(null),le=T(null),oe=T(null),J=Xo(e),G=en(Ft),U=r(()=>Array.isArray(e.options)?e.options.length:0),ne=r(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ie,virtualScrollSliceSizeComputed:ee,localResetVirtualScroll:K,padVirtualScroll:b,onVirtualScrollEvt:R,scrollTo:Z,setVirtualScrollSize:te}=xo({virtualScrollLength:U,getVirtualScrollTarget:Al,getVirtualScrollEl:Et,virtualScrollItemSizeComputed:ne}),n=wl(),f=r(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,v=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const d=e.mapOptions===!0&&k!==void 0?k:[],B=v.map(H=>Bl(H,d));return e.modelValue===null&&t===!0?B.filter(H=>H!==null):B}return v}),_=r(()=>{const t={};return ln.forEach(v=>{const d=e[v];d!==void 0&&(t[v]=d)}),t}),L=r(()=>e.optionsDark===null?n.isDark.value:e.optionsDark),p=r(()=>St(f.value)),C=r(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||f.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),V=r(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=r(()=>U.value===0),a=r(()=>f.value.map(t=>ue.value(t)).join(", ")),W=r(()=>e.displayValue!==void 0?e.displayValue:a.value),se=r(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),_e=r(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||f.value.some(se.value))),ce=r(()=>n.focused.value===!0?e.tabindex:-1),Ne=r(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return h.value>=0&&(t["aria-activedescendant"]=`${n.targetUid.value}_${h.value}`),t}),ye=r(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),we=r(()=>f.value.map((t,v)=>({index:v,opt:t,html:se.value(t),selected:!0,removeAtIndex:_l,toggleOption:pe,tabindex:ce.value}))),Ue=r(()=>{if(U.value===0)return[];const{from:t,to:v}=ie.value;return e.options.slice(t,v).map((d,B)=>{const H=Be.value(d)===!0,I=st(d)===!0,Q=t+B,j={clickable:!0,active:I,activeClass:Pe.value,manualFocus:!0,focused:!1,disable:H,tabindex:-1,dense:e.optionsDense,dark:L.value,role:"option","aria-selected":I===!0?"true":"false",id:`${n.targetUid.value}_${Q}`,onClick:()=>{pe(d)}};return H!==!0&&(h.value===Q&&(j.focused=!0),m.platform.is.desktop===!0&&(j.onMousemove=()=>{i.value===!0&&Ae(Q)})),{index:Q,opt:d,html:se.value(d),label:ue.value(d),selected:j.active,focused:j.focused,toggleOption:pe,setOptionIndex:Ae,itemProps:j}})}),Ie=r(()=>e.dropdownIcon!==void 0?e.dropdownIcon:m.iconSet.arrow.dropdown),it=r(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Pe=r(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),de=r(()=>rt(e.optionValue,"value")),ue=r(()=>rt(e.optionLabel,"label")),Be=r(()=>rt(e.optionDisable,"disable")),We=r(()=>f.value.map(t=>de.value(t))),Vl=r(()=>{const t={onInput:Ft,onChange:G,onKeydown:At,onKeyup:_t,onKeypress:Bt,onFocus:kt,onClick(v){F===!0&&Oe(v)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=G,t});Y(f,t=>{k=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&n.innerLoading.value!==!0&&(c.value!==!0&&i.value!==!0||p.value!==!0)&&(M!==!0&&Te(),(c.value===!0||i.value===!0)&&Ee(""))},{immediate:!0}),Y(()=>e.fillInput,Te),Y(i,ct),Y(U,$l);function qt(t){return e.emitValue===!0?de.value(t):t}function at(t){if(t>-1&&t<f.value.length)if(e.multiple===!0){const v=e.modelValue.slice();o("remove",{index:t,value:v.splice(t,1)[0]}),o("update:modelValue",v)}else o("update:modelValue",null)}function _l(t){at(t),n.focus()}function xt(t,v){const d=qt(t);if(e.multiple!==!0){e.fillInput===!0&&He(ue.value(t),!0,!0),o("update:modelValue",d);return}if(f.value.length===0){o("add",{index:0,value:d}),o("update:modelValue",e.multiple===!0?[d]:d);return}if(v===!0&&st(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const B=e.modelValue.slice();o("add",{index:B.length,value:d}),B.push(d),o("update:modelValue",B)}function pe(t,v){if(n.editable.value!==!0||t===void 0||Be.value(t)===!0)return;const d=de.value(t);if(e.multiple!==!0){v!==!0&&(He(e.fillInput===!0?ue.value(t):"",!0,!0),Ce()),E.value!==null&&E.value.focus(),(f.value.length===0||$e(de.value(f.value[0]),d)!==!0)&&o("update:modelValue",e.emitValue===!0?d:t);return}if((F!==!0||A.value===!0)&&n.focus(),kt(),f.value.length===0){const I=e.emitValue===!0?d:t;o("add",{index:0,value:I}),o("update:modelValue",e.multiple===!0?[I]:I);return}const B=e.modelValue.slice(),H=We.value.findIndex(I=>$e(I,d));if(H>-1)o("remove",{index:H,value:B.splice(H,1)[0]});else{if(e.maxValues!==void 0&&B.length>=e.maxValues)return;const I=e.emitValue===!0?d:t;o("add",{index:B.length,value:I}),B.push(I)}o("update:modelValue",B)}function Ae(t){if(m.platform.is.desktop!==!0)return;const v=t>-1&&t<U.value?t:-1;h.value!==v&&(h.value=v)}function Qe(t=1,v){if(i.value===!0){let d=h.value;do d=Gt(d+t,-1,U.value-1);while(d!==-1&&d!==h.value&&Be.value(e.options[d])===!0);h.value!==d&&(Ae(d),Z(d),v!==!0&&e.useInput===!0&&e.fillInput===!0&&Xe(d>=0?ue.value(e.options[d]):P,!0))}}function Bl(t,v){const d=B=>$e(de.value(B),t);return e.options.find(d)||v.find(d)||t}function rt(t,v){const d=t!==void 0?t:v;return typeof d=="function"?d:B=>B!==null&&typeof B=="object"&&d in B?B[d]:B}function st(t){const v=de.value(t);return We.value.find(d=>$e(d,v))!==void 0}function kt(t){e.useInput===!0&&E.value!==null&&(t===void 0||E.value===t.target&&t.target.value===a.value)&&E.value.select()}function Vt(t){wt(t,27)===!0&&i.value===!0&&(Oe(t),Ce(),Te()),o("keyup",t)}function _t(t){const{value:v}=t.target;if(t.keyCode!==void 0){Vt(t);return}if(t.target.value="",w!==null&&(clearTimeout(w),w=null),x!==null&&(clearTimeout(x),x=null),Te(),typeof v=="string"&&v.length!==0){const d=v.toLocaleLowerCase(),B=I=>{const Q=e.options.find(j=>I.value(j).toLocaleLowerCase()===d);return Q===void 0?!1:(f.value.indexOf(Q)===-1?pe(Q):Ce(),!0)},H=I=>{B(de)!==!0&&(B(ue)===!0||I===!0||Ee(v,!0,()=>H(!0)))};H()}else n.clearValue(t)}function Bt(t){o("keypress",t)}function At(t){if(o("keydown",t),io(t)===!0)return;const v=y.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),d=t.shiftKey!==!0&&e.multiple!==!0&&(h.value>-1||v===!0);if(t.keyCode===27){ge(t);return}if(t.keyCode===9&&d===!1){Re();return}if(t.target===void 0||t.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(t.keyCode===40&&n.innerLoading.value!==!0&&i.value===!1){ae(t),Fe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&y.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?at(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof y.value!="string"||y.value.length===0)&&(ae(t),h.value=-1,Qe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ee.value!==void 0&&(ae(t),h.value=Math.max(-1,Math.min(U.value,h.value+(t.keyCode===33?-1:1)*ee.value.view)),Qe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ae(t),Qe(t.keyCode===38?-1:1,e.multiple));const B=U.value;if((q===void 0||O<Date.now())&&(q=""),B>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||q.length!==0)){i.value!==!0&&Fe(t);const H=t.key.toLocaleLowerCase(),I=q.length===1&&q[0]===H;O=Date.now()+1500,I===!1&&(ae(t),q+=H);const Q=new RegExp("^"+q.split("").map(dt=>tn.indexOf(dt)>-1?"\\"+dt:dt).join(".*"),"i");let j=h.value;if(I===!0||j<0||Q.test(ue.value(e.options[j]))!==!0)do j=Gt(j+1,-1,B-1);while(j!==h.value&&(Be.value(e.options[j])===!0||Q.test(ue.value(e.options[j]))!==!0));h.value!==j&&ve(()=>{Ae(j),Z(j),j>=0&&e.useInput===!0&&e.fillInput===!0&&Xe(ue.value(e.options[j]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||q!=="")&&(t.keyCode!==9||d===!1))){if(t.keyCode!==9&&ae(t),h.value>-1&&h.value<B){pe(e.options[h.value]);return}if(v===!0){const H=(I,Q)=>{if(Q){if(el(Q)!==!0)return}else Q=e.newValueMode;if(He("",e.multiple!==!0,!0),I==null)return;(Q==="toggle"?pe:xt)(I,Q==="add-unique"),e.multiple!==!0&&(E.value!==null&&E.value.focus(),Ce())};if(e.onNewValue!==void 0?o("newValue",y.value,H):H(y.value),e.multiple!==!0)return}i.value===!0?Re():n.innerLoading.value!==!0&&Fe()}}function Et(){return F===!0?oe.value:z.value!==null&&z.value.contentEl!==null?z.value.contentEl:void 0}function Al(){return Et()}function El(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?we.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?we.value.map((t,v)=>g(To,{key:"option-"+v,removable:n.editable.value===!0&&Be.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ce.value,onRemove(){t.removeAtIndex(v)}},()=>g("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ue.value(t.opt)}))):[g("span",{[_e.value===!0?"innerHTML":"textContent"]:W.value})]}function Rt(){if(D.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:y.value}):void 0;const t=l.option!==void 0?l.option:d=>g(Oo,{key:d.index,...d.itemProps},()=>g(zo,()=>g(Lo,()=>g("span",{[d.html===!0?"innerHTML":"textContent"]:d.label}))));let v=b("div",Ue.value.map(t));return l["before-options"]!==void 0&&(v=l["before-options"]().concat(v)),ao(l["after-options"],v)}function Rl(t,v){const d=v===!0?{...Ne.value,...n.splitAttrs.attributes.value}:void 0,B={ref:v===!0?E:void 0,key:"i_t",class:C.value,style:e.inputStyle,value:y.value!==void 0?y.value:"",type:"search",...d,id:v===!0?n.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Vl.value};return t!==!0&&F===!0&&(Array.isArray(B.class)===!0?B.class=[...B.class,"no-pointer-events"]:B.class+=" no-pointer-events"),g("input",B)}function Ft(t){w!==null&&(clearTimeout(w),w=null),x!==null&&(clearTimeout(x),x=null),!(t&&t.target&&t.target.qComposing===!0)&&(Xe(t.target.value||""),M=!0,P=y.value,n.focused.value!==!0&&(F!==!0||A.value===!0)&&n.focus(),e.onFilter!==void 0&&(w=setTimeout(()=>{w=null,Ee(y.value)},e.inputDebounce)))}function Xe(t,v){y.value!==t&&(y.value=t,v===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):x=setTimeout(()=>{x=null,o("inputValue",t)},e.inputDebounce))}function He(t,v,d){M=d!==!0,e.useInput===!0&&(Xe(t,!0),(v===!0||d!==!0)&&(P=t),v!==!0&&Ee(t))}function Ee(t,v,d){if(e.onFilter===void 0||v!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?o("filterAbort"):(n.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&f.value.length!==0&&M!==!0&&t===ue.value(f.value[0])&&(t="");const B=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);S!==null&&clearTimeout(S),S=B,o("filter",t,(H,I)=>{(v===!0||n.focused.value===!0)&&S===B&&(clearTimeout(S),typeof H=="function"&&H(),s.value=!1,ve(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(v===!0?i.value===!0&&Ce():i.value===!0?ct(!0):i.value=!0),typeof I=="function"&&ve(()=>{I(u)}),typeof d=="function"&&ve(()=>{d(u)})}))},()=>{n.focused.value===!0&&S===B&&(clearTimeout(S),n.innerLoading.value=!1,s.value=!1),i.value===!0&&(i.value=!1)})}function Fl(){return g(Ho,{ref:z,class:V.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:L.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:it.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ye.value,onScrollPassive:R,onBeforeShow:Ot,onBeforeHide:Tl,onShow:Ol},Rt)}function Tl(t){zt(t),Re()}function Ol(){te()}function zl(t){Oe(t),E.value!==null&&E.value.focus(),A.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ll(t){Oe(t),ve(()=>{A.value=!1})}function Ml(){const t=[g(Ro,{class:`col-auto ${n.fieldClass.value}`,..._.value,for:n.targetUid.value,dark:L.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:y.value.length!==0,...n.splitAttrs.listeners.value,onFocus:zl,onBlur:Ll},{...l,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(g("div",{ref:oe,class:V.value+" scroll",style:e.popupContentStyle,...ye.value,onClick:ge,onScrollPassive:R},Rt())),g(Wo,{ref:le,modelValue:c.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Ot,onBeforeHide:Il,onHide:Pl,onShow:Hl},()=>g("div",{class:"q-select__dialog"+(L.value===!0?" q-select__dialog--dark q-dark":"")+(A.value===!0?" q-select__dialog--focused":"")},t))}function Il(t){zt(t),le.value!==null&&le.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function Pl(t){Ce(),n.focused.value===!1&&o("blur",t),Te()}function Hl(){const t=document.activeElement;(t===null||t.id!==n.targetUid.value)&&E.value!==null&&E.value!==t&&E.value.focus(),te()}function Re(){c.value!==!0&&(h.value=-1,i.value===!0&&(i.value=!1),n.focused.value===!1&&(S!==null&&(clearTimeout(S),S=null),n.innerLoading.value===!0&&(o("filterAbort"),n.innerLoading.value=!1,s.value=!1)))}function Fe(t){n.editable.value===!0&&(F===!0?(n.onControlFocusin(t),c.value=!0,ve(()=>{n.focus()})):n.focus(),e.onFilter!==void 0?Ee(y.value):(D.value!==!0||l["no-option"]!==void 0)&&(i.value=!0))}function Ce(){c.value=!1,Re()}function Te(){e.useInput===!0&&He(e.multiple!==!0&&e.fillInput===!0&&f.value.length!==0&&ue.value(f.value[0])||"",!0,!0)}function ct(t){let v=-1;if(t===!0){if(f.value.length!==0){const d=de.value(f.value[0]);v=e.options.findIndex(B=>$e(de.value(B),d))}K(v)}Ae(v)}function $l(t,v){i.value===!0&&n.innerLoading.value===!1&&(K(-1,!0),ve(()=>{i.value===!0&&n.innerLoading.value===!1&&(t>v?K():ct(!0))}))}function Tt(){c.value===!1&&z.value!==null&&z.value.updatePosition()}function Ot(t){t!==void 0&&Oe(t),o("popupShow",t),n.hasPopupOpen=!0,n.onControlFocusin(t)}function zt(t){t!==void 0&&Oe(t),o("popupHide",t),n.hasPopupOpen=!1,n.onControlFocusout(t)}function Lt(){F=m.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),N=m.platform.is.ios===!0&&F===!0&&e.useInput===!0?"fade":e.transitionShow}return ul(Lt),uo(Tt),Lt(),be(()=>{w!==null&&clearTimeout(w),x!==null&&clearTimeout(x)}),Object.assign(u,{showPopup:Fe,hidePopup:Ce,removeAtIndex:at,add:xt,toggleOption:pe,getOptionIndex:()=>h.value,setOptionIndex:Ae,moveOptionSelection:Qe,filter:Ee,updateMenuPosition:Tt,updateInputValue:He,isOptionSelected:st,getEmittingOptionValue:qt,isOptionDisabled:(...t)=>Be.value.apply(null,t)===!0,getOptionValue:(...t)=>de.value.apply(null,t),getOptionLabel:(...t)=>ue.value.apply(null,t)}),Object.assign(n,{innerValue:f,fieldClass:r(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:$,targetRef:E,hasValue:p,showPopup:Fe,floatingLabel:r(()=>e.hideSelected!==!0&&p.value===!0||typeof y.value=="number"||y.value.length!==0||St(e.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(c.value===!0||D.value!==!0||l["no-option"]!==void 0))return F===!0?Ml():Fl();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(t){n.onControlFocusin(t)},onFocusout(t){n.onControlFocusout(t,()=>{Te(),Re()})},onClick(t){if(ge(t),F!==!0&&i.value===!0){Re(),E.value!==null&&E.value.focus();return}Fe(t)}},getControl:t=>{const v=El(),d=t===!0||c.value!==!0||F!==!0;if(e.useInput===!0)v.push(Rl(t,d));else if(n.editable.value===!0){const H=d===!0?Ne.value:void 0;v.push(g("input",{ref:d===!0?E:void 0,key:"d_t",class:"q-select__focus-target",id:d===!0?n.targetUid.value:void 0,value:W.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...H,onKeydown:At,onKeyup:Vt,onKeypress:Bt})),d===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&v.push(g("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:_t}))}if(J.value!==void 0&&e.disable!==!0&&We.value.length!==0){const H=We.value.map(I=>g("option",{value:I,selected:!0}));v.push(g("select",{class:"hidden",name:J.value,multiple:e.multiple},H))}const B=e.useInput===!0||d!==!0?void 0:n.splitAttrs.attributes.value;return g("div",{class:"q-field__native row items-center",...B,...n.splitAttrs.listeners.value},v)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[g(ze,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Ie.value})]:null}),pl(n)}});export{rn as Q,xo as a,Qo as b,an as c,un as d,Ct as e,yl as f,Xo as g,wl as h,pl as i,St as j,en as k,qo as u};
